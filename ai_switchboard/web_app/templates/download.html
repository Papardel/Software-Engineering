{% extends 'base.html' %}

{% block content %}
<!DOCTYPE html>
<html>
<head>
    <title>Download Page</title>
</head>
<body>
    <h1>Download a File</h1>
    <form method="get" action="/download/">
        <label for="fileType">Select file type:</label>
        <select id="fileType" name="fileType">
            <option value="image" {% if fileType == "image" %}selected{% endif %}>Image</option>
            <option value="video" {% if fileType == "video" %}selected{% endif %}>Video</option>
            <option value="csv" {% if fileType == "csv" %}selected{% endif %}>CSV</option>
            <option value="json" {% if fileType == "json" %}selected{% endif %}>JSON</option>
            <option value="text" {% if fileType == "text" %}selected{% endif %}>Plain Text</option>
        </select>
        <br>
        <input type="submit" value="See Files">
    </form>
    <h2>Available Files</h2>
    {% if files %}
        <h3>{{ files | length }} {{ fileType }} files found</h3>
    {% for file in files %}
        <p>
            <a href="{% url 'download_file' file.id %}?fileType={{ fileType }}">{{ file.name }}</a>
        </p>
    {% endfor %}
    {% else %}
        <p>No files available</p>
    {% endif %}
</body>
</html>
{% endblock %}